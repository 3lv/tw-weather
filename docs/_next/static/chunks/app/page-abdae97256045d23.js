(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{40591:(e,t,a)=>{Promise.resolve().then(a.bind(a,29847))},29847:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>tr});var s=a(95155),r=a(12115),l=a(43463),i=a(69795);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,i.QP)((0,l.$)(t))}let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:n("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});o.displayName="Card",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:n("flex flex-col space-y-1.5 p-6",a),...r})}).displayName="CardHeader",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:n("text-2xl font-semibold leading-none tracking-tight",a),...r})}).displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:n("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:n("p-6 pt-0",a),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:n("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";var c=a(8586),m=a(11779);let u=e=>{let{children:t,direction:a,className:l,amount:i}=e,n=(0,r.useRef)(null),d=(0,c.W)(n,{once:!1,amount:i||.4}),u={left:{start:{opacity:0,x:-50},end:{opacity:1,x:0}},right:{start:{opacity:0,x:50},end:{opacity:1,x:0}},bottom:{start:{opacity:0,y:50},end:{opacity:1,y:0}}},x=u[a].start,h=u[a].end;return(0,s.jsx)(m.P.div,{ref:n,initial:x,animate:d?h:x,transition:{duration:.3},whileHover:{scale:1.02},whileTap:{scale:.98},className:l,children:(0,s.jsx)(o,{className:"overflow-hidden",children:t})})};var x=a(85217),h=a(32645);let p=x.bL,f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(x.q7,{ref:t,className:n("border-b",a),...r})});f.displayName="AccordionItem";let g=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsx)(x.Y9,{className:"flex",children:(0,s.jsxs)(x.l9,{ref:t,className:n("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...l,children:[r,(0,s.jsx)(h.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});g.displayName=x.l9.displayName;let y=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsx)(x.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...l,children:(0,s.jsx)("div",{className:n("pb-4 pt-0",a),children:r})})});y.displayName=x.UC.displayName;var j=a(69847);let N=e=>{let{shouldScaleBackground:t=!0,...a}=e;return(0,s.jsx)(j._s.Root,{shouldScaleBackground:t,...a})};N.displayName="Drawer",j._s.Trigger;let v=j._s.Portal;j._s.Close;let b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(j._s.Overlay,{ref:t,className:n("fixed inset-0 z-50 bg-black/80",a),...r})});b.displayName=j._s.Overlay.displayName;let w=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(v,{children:[(0,s.jsx)(b,{}),(0,s.jsxs)(j._s.Content,{ref:t,className:n("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",a),...l,children:[(0,s.jsx)("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),r]})]})});w.displayName="DrawerContent";let _=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:n("grid gap-1.5 p-4 text-center sm:text-left",t),...a})};_.displayName="DrawerHeader";let k=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(j._s.Title,{ref:t,className:n("text-lg font-semibold leading-none tracking-tight",a),...r})});k.displayName=j._s.Title.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(j._s.Description,{ref:t,className:n("text-sm text-muted-foreground",a),...r})}).displayName=j._s.Description.displayName;var C=a(85087),T=a(23160),S=a(30405);let R={0:{day:"☀️",night:"\uD83C\uDF19"},1:{day:"\uD83C\uDF24️",night:"\uD83C\uDF19"},2:{day:"⛅",night:"☁️"},3:"☁️",45:"\uD83C\uDF2B️",48:"\uD83C\uDF2B️",51:"\uD83C\uDF27️",53:"\uD83C\uDF27️",55:"\uD83C\uDF27️",56:"\uD83C\uDF27️",57:"\uD83C\uDF27️",61:{day:"\uD83C\uDF26️",night:"\uD83C\uDF27️"},63:"\uD83C\uDF27️",65:"\uD83C\uDF27️",66:"\uD83C\uDF27️",67:"\uD83C\uDF27️",71:"\uD83C\uDF28️",73:"❄️",75:"❄️",77:"❄️",80:"\uD83C\uDF27️",81:"\uD83C\uDF27️",82:"\uD83C\uDF27️",85:"❄️",86:"❄️",95:"⛈️",96:"⚡",99:"⚡"},D=e=>{let t,{weatherCode:a,className:r,isNight:l}=e,i=R[a]||"\uD83C\uDF25️";return t="string"==typeof i?i:!0===l?i.night:i.day,(0,s.jsx)("div",{className:n("",r),children:t})};var M=a(32341);let P=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(M.bL,{ref:t,className:n("relative overflow-hidden",a),...l,children:[(0,s.jsx)(M.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,s.jsx)(z,{}),(0,s.jsx)(M.OK,{})]})});P.displayName=M.bL.displayName;let z=r.forwardRef((e,t)=>{let{className:a,orientation:r="vertical",...l}=e;return(0,s.jsx)(M.VM,{ref:t,orientation:r,className:n("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...l,children:(0,s.jsx)(M.lr,{className:"relative flex-1 rounded-full bg-border"})})});function A(e){let t=e.getUTCHours(),a=e.getUTCMinutes();return"".concat(t.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"))}function L(e,t){return"string"==typeof e&&(e=new Date(e+":00Z")),new Date(e.getTime()-1e3*(t||0))}function F(e){let{forecasts:t,isNight:a}=e;return(0,s.jsxs)(P,{className:"w-full whitespace-nowrap",children:[(0,s.jsx)("div",{className:"flex w-max space-x-4 p-4",children:t.map((e,t)=>"sunrise"===e.type?(0,s.jsx)(o,{className:"w-24 bg-yellow-100 text-black",children:(0,s.jsxs)(d,{className:"p-4 text-center",children:[(0,s.jsx)("div",{className:"text-sm",children:A(e.dateTime)}),(0,s.jsx)("div",{className:"my-2 text-2xl",children:"\uD83C\uDF05"}),(0,s.jsx)("div",{className:"text-lg",children:"Sunrise"})]})},"sunrise-".concat(t)):"sunset"===e.type?(0,s.jsx)(o,{className:"w-24 bg-orange-200 text-black",children:(0,s.jsxs)(d,{className:"p-4 text-center",children:[(0,s.jsx)("div",{className:"text-sm",children:A(e.dateTime)}),(0,s.jsx)("div",{className:"my-2 text-2xl",children:"\uD83C\uDF07"}),(0,s.jsx)("div",{className:"text-lg",children:"Sunset"})]})},"sunset-".concat(t)):"now"===e.type?(0,s.jsx)(o,{className:"w-24 bg-accent",children:(0,s.jsxs)(d,{className:"p-4 text-center",children:[(0,s.jsx)("div",{className:"text-sm",children:"Now"}),(0,s.jsx)(D,{weatherCode:e.weatherCode,isNight:a(e.dateTime),className:"my-2 text-2xl"}),(0,s.jsxs)("div",{className:"text-lg",children:[e.temp,"\xb0"]})]})},"now-".concat(t)):(0,s.jsx)(o,{className:"w-24",children:(0,s.jsxs)(d,{className:"p-4 text-center",children:[(0,s.jsx)("div",{className:"text-sm",children:A(e.dateTime)}),(0,s.jsx)(D,{weatherCode:e.weatherCode,isNight:a(e.dateTime),className:"my-2 text-2xl"}),(0,s.jsxs)("div",{className:"text-lg",children:[e.temp,"\xb0"]})]})},"".concat(e.dateTime)))}),(0,s.jsx)(z,{orientation:"horizontal"})]})}function U(e){let{currentMin:t,currentMax:a,totalMin:r=32,totalMax:l=100}=e,i=(t-r)/(l-r)*100,n=(a-r)/(l-r)*100;return(0,s.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 rounded-lg text-primary w-fit",children:[(0,s.jsxs)("span",{className:"text-lg font-medium tabular-nums",children:[t,"\xb0"]}),(0,s.jsx)("div",{className:"relative w-12 h-1 bg-primary-foreground rounded-full",children:(0,s.jsx)("div",{className:"absolute h-full bg-primary rounded-full",style:{left:"".concat(i,"%"),right:"".concat(100-n,"%")}})}),(0,s.jsxs)("span",{className:"text-lg font-medium tabular-nums",children:[a,"\xb0"]})]})}z.displayName=M.VM.displayName;var E=a(5565);let B=(0,a(44782).U)("jsw19LHs9n8OHQYidArTvWax883K9Wtfs3ulAzljuuG3oxwHTLi3tzPw");async function O(e,t,a){let s="".concat(e," buildings ").concat(t," ").concat(a?"night":""),r="".concat(e," building ").concat(t," ").concat(a?"night":"");"Bucharest"===e&&(s=r);let l=await B.photos.search({query:s,per_page:1});return(console.log("DEBUG fetchCityImage:",s,l),"photos"in l&&Array.isArray(l.photos))?l.photos[0].src.original:"https://img.freepik.com/free-vector/circles-background-dark-tones_60389-166.jpg?semt=ais_hybrid"}let Y={0:"clear sky",1:"clear sky",2:"cloudy",3:"cloudy",45:"foggy",48:"foggy",51:"cloudy",53:"raining",55:"raining",56:"raining",57:"raining",61:"raining",63:"raining",65:"raining",66:"raining",67:"raining",71:"snowy",73:"snowing",75:"snowing",77:"snowing",80:"cloudy",81:"raining",82:"raining",85:"snowing",86:"snowing",95:"raining",96:"strong rain",99:"thunderstorm"};function H(e){let{cityName:t,className:a,weatherCode:l,isNight:i,children:o}=e,[d,c]=(0,r.useState)(null),{scrollY:u}=(0,C.L)(),x=(0,T.G)(u,[0,300],[1.1,1]),h=(0,T.G)(u,[0,300],[1,.3]),p=(0,T.G)(u,[0,300],[0,5]);return(0,r.useEffect)(()=>{(async function(){try{let e=await O(t,Y[l],i);c(e)}catch(e){console.error("Failed to load city image:",e)}})()},[t,l,i]),(0,s.jsxs)("div",{className:n("relative w-full h-screen overflow-hidden",a),children:[(0,s.jsx)(m.P.div,{style:{scale:x,opacity:h,filter:"blur(".concat(p.get(),"px)")},className:"absolute inset-0",children:d?(0,s.jsx)(E.default,{src:d,alt:t,layout:"fill",objectFit:"cover",className:"brightness-75"}):(0,s.jsx)("div",{className:"w-full h-full bg-gray-300 animate-pulse"})}),(0,s.jsx)(Z,{weatherCode:l,isNight:i}),o]})}function Z(e){let{weatherCode:t,isNight:a}=e;return(0,s.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:(()=>{if(t>=95&&t<=99)return(0,s.jsx)(G,{});if(t>=51&&t<=57||t>=61&&t<=67||t>=80&&t<=82)return(0,s.jsx)(X,{});if(t>=71&&t<=77||t>=85&&t<=86)return(0,s.jsx)(I,{});{if(45===t||48===t)return(0,s.jsx)(J,{});if(0===t||800===t)return a?(0,s.jsx)(V,{}):(0,s.jsx)(W,{});if(!(t>=1)||!(t<=3))return(0,s.jsx)(W,{});let e=10*Math.pow(t,2);return(0,s.jsx)(q,{clouds:e})}})()})}function G(){let e={initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1.2,rotate:[0,-15,15,0]},exit:{opacity:0,scale:.5}};return(0,s.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-50 overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-white opacity-10 animate-pulse-fast"}),(0,s.jsx)(m.P.div,{className:"absolute top-1/4 left-1/4 text-6xl text-yellow-500",variants:e,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.5,repeat:1/0,repeatType:"reverse"},children:"⚡"}),(0,s.jsx)(m.P.div,{className:"absolute top-1/3 right-1/3 text-6xl text-yellow-500",variants:e,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.7,repeat:1/0,repeatType:"reverse"},children:"⚡"}),(0,s.jsx)(m.P.img,{src:"https://toppng.com/uploads/preview/lightning-mcqueen-lightning-mcqueen-clipart-11563265704fcfsnw740b.png",alt:"Lightning McQueen",className:"absolute bottom-10 left-1/2 transform -translate-x-1/2 w-40",initial:{opacity:0,x:"-100vw"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100vw"},transition:{duration:1,repeat:1/0,repeatType:"loop"}}),(0,s.jsx)(m.P.img,{src:"https://i.pinimg.com/originals/9a/28/a9/9a28a9f78b3e0cf3628d3b9781ca189d.png",alt:"POW!",className:"absolute top-1/4 left-10 w-24",variants:{initial:{opacity:0,x:"-100vw",rotate:-45},animate:{opacity:1,x:0,rotate:0},exit:{opacity:0,x:"100vw",rotate:45}},initial:"initial",animate:"animate",exit:"exit",transition:{duration:1.5,delay:.5,repeat:1/0,repeatType:"loop"}}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 overflow-hidden",children:(0,s.jsx)(m.P.img,{src:"/proiect-4-html-css-js-3lv/mcqueen.png",alt:"Lightning McQueen",className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-vh animate-mcqueen",initial:{opacity:1,x:"100vh"},animate:{opacity:1,x:"-200vw"},transition:{duration:1,repeat:1/0,repeatType:"loop"}})})]})}function X(){return(0,s.jsx)("div",{className:"absolute inset-0",children:[...Array(50)].map((e,t)=>(0,s.jsx)(m.P.div,{className:"absolute w-0.5 h-8 bg-blue-200 opacity-60",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%")},animate:{y:["0%","100%"],opacity:[.6,0]},transition:{duration:.8+.5*Math.random(),repeat:1/0,ease:"linear"}},t))})}function I(){return(0,s.jsx)("div",{className:"absolute inset-0",children:[...Array(50)].map((e,t)=>(0,s.jsx)(m.P.div,{className:"absolute w-2 h-2 bg-white rounded-full opacity-60",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%")},animate:{y:["0%","100%"],x:["-10%","10%"],opacity:[.6,0]},transition:{duration:3+2*Math.random(),repeat:1/0,ease:"linear"}},t))})}function V(){return(0,s.jsxs)("div",{className:"absolute inset-0 bg-blue-900 opacity-30",children:[(0,s.jsx)("div",{className:"absolute top-10 right-10 w-16 h-16 bg-yellow-100 rounded-full opacity-80 shadow-lg"}),[...Array(50)].map((e,t)=>(0,s.jsx)(m.P.div,{className:"absolute w-1 h-1 bg-white rounded-full",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%")},animate:{opacity:[0,1,0],scale:[.8,1,.8]},transition:{duration:2+3*Math.random(),repeat:1/0,ease:"easeInOut"}},t))]})}function W(){return(0,s.jsx)("div",{className:"absolute inset-0",children:(0,s.jsx)("div",{className:"absolute top-10 right-10 w-32 h-32 bg-yellow-300 rounded-full opacity-30 animate-pulse"})})}let q=(0,r.memo)(e=>{let{clouds:t}=e,a=(0,r.useMemo)(()=>Array.from({length:t}).map(()=>({width:100+100*Math.random(),height:50+50*Math.random(),top:20*Math.random()-3,left:100*Math.random(),duration:10+20*Math.random()})),[t]);return(0,s.jsx)("div",{className:"absolute inset-0",children:a.map((e,t)=>(0,s.jsx)(m.P.div,{className:"absolute bg-white opacity-60 rounded-full",style:{width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),top:"".concat(e.top,"%"),left:"".concat(e.left,"%")},animate:{x:["-100%","100%"],opacity:[0,.7,.7,0]},transition:{duration:e.duration,repeat:1/0,repeatType:"reverse",ease:"easeInOut"}},t))})});function J(){return(0,s.jsx)("div",{className:"absolute inset-0",children:[void 0,void 0,void 0].map((e,t)=>(0,s.jsx)(m.P.div,{className:"absolute inset-0 bg-gradient-to-b from-gray-300 to-transparent opacity-70",animate:{y:["0%","100%","0%"]},transition:{duration:10+5*t,repeat:1/0,ease:"easeInOut"}},t))})}async function K(e,t){let a=await fetch("https://api.open-meteo.com/v1/forecast?latitude=".concat(e,"&longitude=").concat(t,"&timezone=auto&current=temperature_2m,relative_humidity_2m,wind_speed_10m,weather_code&hourly=temperature_2m,relative_humidity_2m,wind_speed_10m,weather_code&daily=temperature_2m_min,temperature_2m_max,weather_code,sunrise,sunset"));if(!a.ok)throw Error("Failed to fetch weather data");return a.json()}q.displayName="CloudyOverlay";var Q=a(67746),$=a(53474),ee=a(74920);let et=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ee.bL,{ref:t,className:n("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});et.displayName=ee.bL.displayName;let ea=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ee._V,{ref:t,className:n("aspect-square h-full w-full",a),...r})});ea.displayName=ee._V.displayName;let es=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ee.H4,{ref:t,className:n("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});es.displayName=ee.H4.displayName;var er=a(12317);let el=(0,a(31027).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ei=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:i=!1,...o}=e,d=i?er.DX:"button";return(0,s.jsx)(d,{className:n(el({variant:r,size:l,className:a})),ref:t,...o})});ei.displayName="Button";var en=a(66217),eo=a(689);let ed=en.bL,ec=en.l9,em=en.ZL;en.bm;let eu=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(en.hJ,{ref:t,className:n("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});eu.displayName=en.hJ.displayName;let ex=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(em,{children:[(0,s.jsx)(eu,{}),(0,s.jsxs)(en.UC,{ref:t,className:n("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[r,(0,s.jsxs)(en.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(eo.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});ex.displayName=en.UC.displayName;let eh=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:n("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};eh.displayName="DialogHeader";let ep=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(en.hE,{ref:t,className:n("text-lg font-semibold leading-none tracking-tight",a),...r})});ep.displayName=en.hE.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(en.VY,{ref:t,className:n("text-sm text-muted-foreground",a),...r})}).displayName=en.VY.displayName;var ef=a(82920);let eg=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ef.bL,{className:n("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:t,children:(0,s.jsx)(ef.zi,{className:n("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});eg.displayName=ef.bL.displayName;var ey=a(58346),ej=a(22783),eN=a(27193),ev=a(68046),eb=a(62591);let ew=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ev.uB,{ref:t,className:n("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",a),...r})});ew.displayName=ev.uB.displayName;let e_=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,s.jsx)(eb.A,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,s.jsx)(ev.uB.Input,{ref:t,className:n("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a),...r})]})});e_.displayName=ev.uB.Input.displayName;let ek=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ev.uB.List,{ref:t,className:n("max-h-[300px] overflow-y-auto overflow-x-hidden",a),...r})});ek.displayName=ev.uB.List.displayName;let eC=r.forwardRef((e,t)=>(0,s.jsx)(ev.uB.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));eC.displayName=ev.uB.Empty.displayName;let eT=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ev.uB.Group,{ref:t,className:n("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a),...r})});eT.displayName=ev.uB.Group.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ev.uB.Separator,{ref:t,className:n("-mx-1 h-px bg-border",a),...r})}).displayName=ev.uB.Separator.displayName;let eS=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ev.uB.Item,{ref:t,className:n("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a),...r})});eS.displayName=ev.uB.Item.displayName;var eR=a(80532);let eD=eR.bL,eM=eR.l9,eP=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:l=4,...i}=e;return(0,s.jsx)(eR.ZL,{children:(0,s.jsx)(eR.UC,{ref:t,align:r,sideOffset:l,className:n("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});async function ez(e){if(console.log("Searching for:",e),e.length<3)return console.log("Search string too short, returning empty array"),[];try{let t=await fetch("http://api.geonames.org/searchJSON?name_startsWith=".concat(e,"&maxRows=5&username=yomer&cities=cities15000")),a=await t.json();if(console.log("API response:",a),!a.geonames||!Array.isArray(a.geonames))return console.error("Unexpected API response structure:",a),[];return a.geonames.map(e=>({lng:e.lng,lat:e.lat,value:"".concat(e.name),label:"".concat(e.name,", ").concat(e.countryCode)}))}catch(e){return console.error("Error fetching cities:",e),[]}}function eA(e){let{selectedCity:t,onCitySelect:a}=e,[l,i]=(0,r.useState)(!1),[o,d]=(0,r.useState)(""),[c,m]=(0,r.useState)([]),[u,x]=(0,r.useState)(!1),h=(0,r.useCallback)(e=>{if(e.length<3){m([]);return}x(!0),ez(e).then(e=>{m(e||[])}).catch(e=>{console.error("Error in searchCities:",e),m([])}).finally(()=>{x(!1)})},[]);return(0,r.useEffect)(()=>{let e=setTimeout(()=>{h(o)},300);return()=>clearTimeout(e)},[o,h]),(0,s.jsxs)(eD,{open:l,onOpenChange:i,children:[(0,s.jsx)(eM,{asChild:!0,children:(0,s.jsxs)(ei,{variant:"outline",role:"combobox","aria-expanded":l,className:"w-[400px] justify-between",children:[t?t.label:"Select city...",(0,s.jsx)(ey.A,{className:"opacity-50"})]})}),(0,s.jsx)(eP,{className:"w-[400px] p-0",children:(0,s.jsxs)(ew,{children:[(0,s.jsx)(e_,{placeholder:t?t.label:"Search city...",value:o,onValueChange:e=>{d(e)}}),u&&(0,s.jsxs)("div",{className:"flex items-center justify-center p-4 text-sm text-muted-foreground",children:[(0,s.jsx)(ej.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Searching..."]}),(0,s.jsxs)(ek,{children:[(0,s.jsx)(eC,{children:"No city found."}),(0,s.jsx)(eT,{children:c.map((e,r)=>(0,s.jsxs)(eS,{value:e.label,onSelect:e=>{e===(null==t?void 0:t.label)?a(null):a(c.find(t=>t.label==e)||null),i(!1)},children:[e.label,(0,s.jsx)(eN.A,{className:n("ml-auto",t&&t.label===e.label?"opacity-100":"opacity-0")})]},"".concat(e.label,"-").concat(r)))})]})]})})]})}eP.displayName=eR.UC.displayName;var eL=a(56535),eF=a(78482),eU=a(67113),eE=a(44471),eB=a(15325),eO=a(81703);let eY=eE.bL,eH=eE.l9;eE.YJ,eE.ZL,eE.Pb,eE.z6,r.forwardRef((e,t)=>{let{className:a,inset:r,children:l,...i}=e;return(0,s.jsxs)(eE.ZP,{ref:t,className:n("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...i,children:[l,(0,s.jsx)(eB.A,{className:"ml-auto"})]})}).displayName=eE.ZP.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eE.G5,{ref:t,className:n("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=eE.G5.displayName;let eZ=r.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...l}=e;return(0,s.jsx)(eE.ZL,{children:(0,s.jsx)(eE.UC,{ref:t,sideOffset:r,className:n("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});eZ.displayName=eE.UC.displayName;let eG=r.forwardRef((e,t)=>{let{className:a,inset:r,...l}=e;return(0,s.jsx)(eE.q7,{ref:t,className:n("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...l})});eG.displayName=eE.q7.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,checked:l,...i}=e;return(0,s.jsxs)(eE.H_,{ref:t,className:n("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(eE.VF,{children:(0,s.jsx)(eN.A,{className:"h-4 w-4"})})}),r]})}).displayName=eE.H_.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(eE.hN,{ref:t,className:n("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(eE.VF,{children:(0,s.jsx)(eO.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=eE.hN.displayName;let eX=r.forwardRef((e,t)=>{let{className:a,inset:r,...l}=e;return(0,s.jsx)(eE.JU,{ref:t,className:n("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...l})});eX.displayName=eE.JU.displayName;let eI=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eE.wv,{ref:t,className:n("-mx-1 my-1 h-px bg-muted",a),...r})});function eV(){let{setTheme:e}=(0,eU.D)();return(0,s.jsxs)(eY,{children:[(0,s.jsx)(eH,{asChild:!0,children:(0,s.jsxs)(ei,{variant:"ghost",size:"icon",children:[(0,s.jsx)(eL.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(eF.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,s.jsxs)(eZ,{align:"end",children:[(0,s.jsx)(eG,{onClick:()=>e("light"),children:"Light"}),(0,s.jsx)(eG,{onClick:()=>e("dark"),children:"Dark"}),(0,s.jsx)(eG,{onClick:()=>e("system"),children:"System"})]})]})}function eW(e){let{selectedCity:t,onCitySelect:a,tempUnit:l,setTempUnit:i,tempPrecision:n,setTempPrecision:o}=e,[d,c]=(0,r.useState)(!1),{scrollY:u}=(0,C.L)(),x=(0,T.G)(u,[0,100],[1,.98]),h=(0,T.G)(u,[0,100],[1,.98]);return(0,r.useEffect)(()=>{let e=u.onChange(e=>{c(e>50)});return()=>e()},[u]),(0,s.jsx)(m.P.header,{className:"fixed z-50 w-full",initial:"initial",animate:d?"scrolled":"initial",variants:{initial:{borderRadius:"0px",width:"100%",left:"0%",right:"0%",top:"0px",boxShadow:"none"},scrolled:{borderRadius:"9999px",width:"calc(100% - 64px)",left:"32px",right:"32px",top:"16px"}},transition:{duration:.3},children:(0,s.jsx)(m.P.div,{className:"bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 ".concat(d?"px-6 rounded-full":"px-4"),style:{opacity:x,scale:h},children:(0,s.jsxs)("div",{className:"flex h-16 items-center ".concat(d?"justify-between":""),children:[(0,s.jsxs)("div",{className:"flex flex-none items-center gap-2",children:[(0,s.jsx)("div",{className:"rounded-lg bg-primary/10 p-2 text-2xl text-primary",children:"\uD83C\uDF10"}),!d&&(0,s.jsx)("span",{className:"text-lg font-semibold tracking-tight",children:"Weather"})]}),(0,s.jsx)("div",{className:"".concat("absolute left-1/2 w-full max-w-md -translate-x-1/2 transform"," px-4"),children:(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(eA,{selectedCity:t,onCitySelect:a})})}),(0,s.jsxs)("div",{className:"flex flex-1 items-center ".concat("justify-end"," gap-4"),children:[(0,s.jsxs)(ei,{variant:"ghost",size:"icon",className:"relative",children:[(0,s.jsx)(Q.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"absolute right-2 top-2 h-2 w-2 rounded-full bg-primary"})]}),(0,s.jsx)(eV,{}),(0,s.jsxs)(ed,{children:[(0,s.jsx)(ec,{asChild:!0,children:(0,s.jsx)(ei,{variant:"ghost",size:"icon",children:(0,s.jsx)($.A,{className:"h-5 w-5"})})}),(0,s.jsxs)(ex,{children:[(0,s.jsx)(eh,{children:(0,s.jsx)(ep,{children:"Settings"})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(eg,{checked:"\xb0F"===l,onCheckedChange:e=>i(e?"\xb0F":"\xb0C")}),(0,s.jsx)("span",{children:"Temperature Unit"})]}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:l})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(eg,{checked:1===n,onCheckedChange:e=>o(e?1:0)}),(0,s.jsx)("span",{children:"Temperature Precision"})]}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:n})]})]})]})]}),!d&&(0,s.jsxs)(eY,{children:[(0,s.jsx)(eH,{asChild:!0,children:(0,s.jsxs)(ei,{variant:"ghost",className:"flex items-center gap-2 px-2",children:[(0,s.jsxs)(et,{className:"h-8 w-8",children:[(0,s.jsx)(ea,{src:"/placeholder.svg"}),(0,s.jsx)(es,{children:"TW"})]}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Tehnologii Web"})]})}),(0,s.jsxs)(eZ,{align:"end",className:"w-56",children:[(0,s.jsx)(eX,{children:"My Account"}),(0,s.jsx)(eI,{}),(0,s.jsx)(eG,{children:"Profile"}),(0,s.jsx)(eG,{children:"Settings"}),(0,s.jsx)(eG,{children:"Favorites"}),(0,s.jsx)(eI,{}),(0,s.jsx)(eG,{children:"Log out"})]})]})]})]})})})}function eq(e){let{selectedCity:t,weatherData:a,convertTemperature:r,tempUnit:l,isNight:i,toggleFavorite:n,isFavorite:o}=e,d=a.current.temperature_2m,c=a.current.weather_code,{scrollY:u}=(0,C.L)(),x=(0,T.G)(u,[0,300],[1,0]),h=(0,T.G)(u,[0,300],[0,100]),p={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100,damping:10}}};return(0,s.jsxs)(m.P.div,{className:"absolute inset-0 flex flex-col items-center justify-center text-white z-10",variants:{hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{when:"beforeChildren",staggerChildren:.2,duration:.6,ease:"easeOut"}}},initial:"hidden",animate:"visible",style:{opacity:x,y:h},children:[(0,s.jsx)(m.P.div,{className:"text-6xl font-bold mb-4 text-shadow-lg",variants:p,children:t.name}),(0,s.jsxs)(m.P.div,{className:"flex items-center mb-6",variants:p,children:[(0,s.jsx)(D,{weatherCode:c,isNight:i(a.current.time),className:"text-9xl mr-4 drop-shadow-lg"}),(0,s.jsxs)("div",{className:"text-9xl font-bold text-shadow-lg",children:[r(d),l]})]}),(0,s.jsx)(m.P.div,{className:"text-2xl mb-8 text-shadow",variants:p,children:new Date(a.current.time).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})}),(0,s.jsx)(m.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,s.jsx)(ei,{className:"bg-white/20 text-white hover:bg-white/30 rounded-full px-6 py-2 text-lg backdrop-blur-sm transition-all duration-300",onClick:()=>n(t),children:o(t)?"Remove from Favorites":"Add to Favorites"})})]})}eI.displayName=eE.wv.displayName;var eJ=a(67393),eK=a(67196);let eQ=(0,r.createContext)(void 0),e$=e=>{let{children:t,className:a,containerClassName:l}=e,i=(0,r.useRef)(null),[o,d]=(0,r.useState)(!1);return(0,s.jsx)(eQ.Provider,{value:[o,d],children:(0,s.jsx)("div",{className:n("py-20 flex items-center justify-center",l),style:{perspective:"1000px"},children:(0,s.jsx)("div",{ref:i,onMouseEnter:e=>{if(d(!0),!i.current)return},onMouseMove:e=>{if(!i.current)return;let{left:t,top:a,width:s,height:r}=i.current.getBoundingClientRect(),l=(e.clientX-t-s/2)/25,n=(e.clientY-a-r/2)/25;i.current.style.transform="rotateY(".concat(l,"deg) rotateX(").concat(n,"deg)")},onMouseLeave:e=>{i.current&&(d(!1),i.current.style.transform="rotateY(0deg) rotateX(0deg)")},className:n("flex items-center justify-center relative transition-all duration-200 ease-linear",a),style:{transformStyle:"preserve-3d"},children:t})})})},e0=e=>{let{children:t,className:a}=e;return(0,s.jsx)("div",{className:n("h-96 w-96 [transform-style:preserve-3d]  [&>*]:[transform-style:preserve-3d]",a),children:t})},e1=e=>{let{as:t="div",children:a,className:l,translateX:i=0,translateY:o=0,translateZ:d=0,rotateX:c=0,rotateY:m=0,rotateZ:u=0,...x}=e,h=(0,r.useRef)(null),[p]=e2();(0,r.useEffect)(()=>{f()},[p]);let f=()=>{h.current&&(p?h.current.style.transform="translateX(".concat(i,"px) translateY(").concat(o,"px) translateZ(").concat(d,"px) rotateX(").concat(c,"deg) rotateY(").concat(m,"deg) rotateZ(").concat(u,"deg)"):h.current.style.transform="translateX(0px) translateY(0px) translateZ(0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg)")};return(0,s.jsx)(t,{ref:h,className:n("w-fit transition duration-200 ease-linear",l),...x,children:a})},e2=()=>{let e=(0,r.useContext)(eQ);if(void 0===e)throw Error("useMouseEnter must be used within a MouseEnterProvider");return e};function e5(e){let{weatherData:t,convertTemperature:a,openTemperatureDrawer:r}=e,l=t.current.wind_speed_10m,i=t.current.temperature_2m;return(0,s.jsx)(e$,{className:"mb-6 w-full",children:(0,s.jsxs)(e0,{className:"w-full h-full bg-gray-50 dark:bg-black rounded-xl p-6 border border-black/[0.1] dark:border-white/[0.2]",children:[(0,s.jsx)("h2",{className:"text-xl mb-4 text-center",children:"Today's Highlights"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 place-items-center",children:[(0,s.jsx)(e1,{className:"h-full w-full",translateZ:"100",translateY:"-20",translateX:"-20",rotateX:"-20",rotateY:"20",children:(0,s.jsx)(o,{className:"h-full w-full rounded-xl border border-black dark:border-white p-4",children:(0,s.jsxs)(d,{children:[(0,s.jsx)("h3",{className:"text-muted-foreground",children:"Wind Status"}),(0,s.jsxs)("div",{className:"flex items-center mt-2",children:[(0,s.jsx)(eJ.A,{className:"h-8 w-8 mr-2"}),(0,s.jsxs)("span",{className:"text-2xl",children:[l," m/s"]})]})]})})}),(0,s.jsx)(e1,{translateZ:"100",translateY:"-1000",translateX:"-1000",rotateZ:"5000",rotateY:"20",className:"duration-10000",children:(0,s.jsx)(o,{className:"p-4",children:(0,s.jsxs)(d,{children:[(0,s.jsx)("h3",{className:"text-muted-foreground",children:"Humidity"}),(0,s.jsxs)("div",{className:"flex items-center mt-2",children:[(0,s.jsx)(eK.A,{className:"h-8 w-8 mr-2"}),(0,s.jsxs)("span",{className:"text-2xl",children:[t.hourly.relative_humidity_2m[0],"%"]})]})]})})}),(0,s.jsx)(e1,{translateZ:"100",translateY:"20",translateX:"-20",rotateX:"20",rotateY:"20",children:(0,s.jsx)(o,{className:"p-4 cursor-pointer",onClick:r,children:(0,s.jsxs)(d,{children:[(0,s.jsx)("h3",{className:"text-muted-foreground",children:"Temperature Range"}),(0,s.jsxs)("div",{className:"text-2xl mt-2",children:[a(Math.min(...t.hourly.temperature_2m.slice(0,24))),"\xb0 -"," ",a(Math.max(...t.hourly.temperature_2m.slice(0,24))),"\xb0"]}),(0,s.jsx)(ei,{variant:"link",className:"p-0 h-auto mt-2",children:"View Details"})]})})}),(0,s.jsx)(e1,{translateZ:"1000",translateY:"20",translateX:"-20",rotateX:"360",rotateY:"20",className:"duration-500 z-100",children:(0,s.jsx)(o,{className:"p-4",children:(0,s.jsxs)(d,{children:[(0,s.jsx)("h3",{className:"text-muted-foreground",children:"Feels Like"}),(0,s.jsxs)("div",{className:"text-2xl mt-2",children:[a(i),"\xb0"]})]})})})]})]})})}function e4(e){let{favoriteCities:t,handleCitySelect:a}=e;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-xl",children:"Favorite Cities"}),(0,s.jsx)(ei,{variant:"ghost",className:"text-sm text-muted-foreground",children:"Show All"})]}),(0,s.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,s.jsx)(o,{children:(0,s.jsx)(d,{className:"p-0 flex items-center justify-between",children:(0,s.jsxs)(ei,{variant:"ghost",className:"h-full w-full p-4",onClick:()=>a(e),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{children:e.name}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"H".concat(e.lat,"\xb0 L").concat(e.lng,"\xb0")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"text-2xl",children:"\uD83C\uDF21️"}),(0,s.jsx)("div",{className:"text-xl",children:69})]})]})})},e.name))})]})}var e3=a(58581),e6=a(24817),e8=a(15255),e9=a(12800),e7=a(66963),te=a(27112),tt=a(16161);function ta(e){let{hourlyForecasts:t}=e,a=new Date().toDateString(),r=t.filter(e=>e.dateTime.toDateString()===a).map(e=>({time:e.dateTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),temperature:parseFloat(e.temp)}));return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Today's Temperature Range"}),(0,s.jsx)("div",{className:"h-[300px]",children:(0,s.jsx)(e3.u,{width:"100%",height:"100%",children:(0,s.jsxs)(e6.b,{data:r,children:[(0,s.jsx)(e8.d,{strokeDasharray:"3 3"}),(0,s.jsx)(e9.W,{dataKey:"time"}),(0,s.jsx)(e7.h,{}),(0,s.jsx)(te.m,{}),(0,s.jsx)(tt.N,{type:"monotone",dataKey:"temperature",stroke:"#8884d8"})]})})})]})}let ts={lat:44.4268,lng:26.1025,name:"Bucharest",label:"Bucharest, RO"};function tr(){let[e,t]=(0,r.useState)(null),[a,l]=(0,r.useState)(!0),[i,n]=(0,r.useState)(null),[o,c]=(0,r.useState)(ts),[x,h]=(0,r.useState)("\xb0C"),[j,v]=(0,r.useState)(0),[b,R]=(0,r.useState)([]),[M,P]=(0,r.useState)(!1),z=(0,r.useRef)(null),{scrollYProgress:A}=(0,C.L)({target:z,offset:["start start","end end"]}),E=(0,T.G)(A,[0,1],[1,.8]),B=(0,T.G)(A,[0,.5,1],[1,.8,.6]),O=(0,S.z)(E,{stiffness:100,damping:10}),Y=(0,S.z)(B,{stiffness:100,damping:10}),Z=e=>b.some(t=>t.label===e.label);(0,r.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("favoriteCities")||"[]");Array.isArray(e)&&R(e)},[]),(0,r.useEffect)(()=>{localStorage.setItem("favoriteCities",JSON.stringify(b))},[b]),(0,r.useEffect)(()=>{(async function(){try{l(!0),n(null);let e=await K(o.lat,o.lng);t(e)}catch(e){n("Failed to load weather data. Please try again later."),console.error(e)}finally{l(!1)}})()},[o]);let G=e=>{null===e?c(ts):c(e)},X=e=>{let t="\xb0F"===x?9*e/5+32:e;return(t=Number(t.toFixed(j))).toString()};if(a)return(0,s.jsx)("div",{className:"flex h-screen items-center justify-center",children:"Loading weather data..."});if(i)return(0,s.jsx)("div",{className:"flex h-screen items-center justify-center text-red-500",children:i});if(!e)return null;let I=t=>{let a=L(t);for(let t=0;t<e.daily.sunrise.length;++t){let s=L(e.daily.sunrise[t]),r=L(e.daily.sunset[t]);if(s<=a&&a<=r)return!1}return!0},V=Math.min(...e.daily.temperature_2m_min),W=Math.max(...e.daily.temperature_2m_max),q=L(e.current.time),J=e.current.temperature_2m,Q=e.current.relative_humidity_2m,$=e.current.wind_speed_10m,ee=e.current.weather_code,et=e.hourly.time.map((t,a)=>({dateTime:L(t),temp:X(e.hourly.temperature_2m[a]),humidity:e.hourly.relative_humidity_2m[a],windSpeed:e.hourly.wind_speed_10m[a],weatherCode:e.hourly.weather_code[a],type:""})),ea=e.daily.time.flatMap((t,a)=>[{dateTime:L(e.daily.sunrise[a]),type:"sunrise"},{dateTime:L(e.daily.sunset[a]),type:"sunset"}]),es=[{dateTime:L(e.current.time),temp:X(J),humidity:Q,windSpeed:$,weatherCode:ee,type:"now"},...et,...ea].sort((e,t)=>e.dateTime.getTime()-t.dateTime.getTime());return(0,s.jsxs)("div",{className:"min-h-screen bg-background pt-16 text-foreground",ref:z,children:[(0,s.jsx)(eW,{selectedCity:o,onCitySelect:G,tempUnit:x,setTempUnit:h,tempPrecision:j,setTempPrecision:v}),(0,s.jsx)(m.P.div,{style:{scale:O,opacity:Y},children:(0,s.jsx)(H,{className:String(e.current.time),cityName:o.name,weatherCode:ee,isNight:I(e.current.time),children:(0,s.jsx)(eq,{selectedCity:o,weatherData:e,convertTemperature:X,tempUnit:x,isNight:I,toggleFavorite:e=>{R(t=>Z(e)?t.filter(t=>t.label!==e.label):[...t,e])},isFavorite:Z})})}),(0,s.jsx)("div",{className:"flex flex-col p-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[(0,s.jsxs)("div",{className:"col-span-8",children:[(0,s.jsx)(u,{direction:"left",className:"mt-6",children:(0,s.jsxs)(d,{className:"p-4",children:[(0,s.jsxs)("div",{className:"mt-4 flex items-center gap-2",children:[(0,s.jsx)("div",{className:"text-6xl",children:"\uD83C\uDF21️"}),(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"text-2xl",children:"Hourly Forecast"})})]}),(0,s.jsx)(F,{forecasts:es.filter(e=>e.dateTime>=q).slice(0,27),isNight:I})]})}),(0,s.jsx)(u,{amount:.2,direction:"left",className:"mt-6",children:(0,s.jsxs)(d,{className:"p-4",children:[(0,s.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"7-Day Forecast"}),(0,s.jsx)(p,{type:"single",collapsible:!0,className:"w-full",children:e.daily.time.map((t,a)=>(0,s.jsxs)(f,{value:t,children:[(0,s.jsx)(g,{children:(0,s.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,s.jsx)("span",{className:"pl-2 text-xl",children:0===a?"Today":new Date(t).toLocaleDateString("en-US",{weekday:"long"})}),(0,s.jsxs)("div",{className:"flex flex-row items-center",children:[(0,s.jsx)(D,{weatherCode:e.daily.weather_code[a],isNight:!1,className:"mr-2 text-2xl"}),(0,s.jsx)(U,{currentMin:parseFloat(X(e.daily.temperature_2m_min[a])),currentMax:parseFloat(X(e.daily.temperature_2m_max[a])),totalMin:parseFloat(X(V)),totalMax:parseFloat(X(W))})]})]})}),(0,s.jsx)(y,{children:(0,s.jsx)(F,{forecasts:es.filter(e=>L(e.dateTime).getUTCDay()===L(t+"T00:00").getUTCDay()),isNight:I})})]},t))})]})})]}),(0,s.jsxs)("div",{className:"col-span-4",children:[(0,s.jsx)(e5,{weatherData:e,convertTemperature:X,openTemperatureDrawer:()=>P(!0)}),(0,s.jsx)(u,{direction:"right",className:"mt-6",children:(0,s.jsx)(d,{className:"pt-4",children:(0,s.jsx)(e4,{favoriteCities:b,handleCitySelect:G})})})]})]})}),(0,s.jsx)(N,{open:M,onOpenChange:P,children:(0,s.jsxs)(w,{children:[(0,s.jsx)(_,{children:(0,s.jsx)(k,{children:"Temperature Range Details"})}),(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)(ta,{hourlyForecasts:et,tempUnit:x})})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[557,441,517,358],()=>t(40591)),_N_E=e.O()}]);